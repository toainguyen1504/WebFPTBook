@model BookFPTStore.Models.TbBook;
<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1>Book Manegement</h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item">
                        <a href="#">Home</a>
                    </li>
                    <li class="breadcrumb-item active">List</li>
                </ol>
            </div>
        </div>
    </div>

    <div class="card-body">
        <form asp-action="Edit" method="post" enctype="multipart/form-data">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="row">
                <div class="col-12">
                    <!-- text input -->
                    <div class="form-group">
                        <label>Title</label>
                        <input asp-for="Title" class="form-control" placeholder="Enter Title...">
                        <span asp-validation-for="Title" class="text-danger"> </span>
                    </div>
                </div>


            </div>

            <div class="row">
                <div class="col-12">
                    <!-- textarea -->
                    <div class="form-group">
                        <label>Description</label>
                        <textarea class="form-control" asp-for="Description" rows="4" placeholder="Enter Description..."></textarea>
                        <span asp-validation-for="Description" class="text-danger"> </span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-12">
                    <!-- text input -->
                    @if (!string.IsNullOrEmpty(Model.Image))
                    {
                        <img src="~/media/books/@Model.Image" alt="Current Image" class="img-fluid mb-2" style="max-height: 150px; max-width: 150px;" />
                    }

                    <!-- Thêm trường tải ảnh mới -->
                    <div class="form-group ">
                        <label>Upload New Image</label>
                        <!-- Trường input ẩn để giữ giá trị ảnh cũ -->
                        <input type="hidden" asp-for="Image" />
                        <input asp-for="ImageUpload" class="form-control" value="">
                        <span asp-validation-for="ImageUpload" class="text-danger"> </span>

                       
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-4">
                    <!-- text input -->
                    <div class="form-group">
                        <label>Price ($)</label>
                        <input asp-for="Price" type="number" min="1" max="100" step="0.1" class="form-control" placeholder="Enter Price...">
                        <span asp-validation-for="Price" class="text-danger"> </span>
                    </div>
                </div>
                <div class="col-4">
                    <!-- text input -->
                    <div class="form-group">
                        <label>PriceSale ($)</label>
                        <input asp-for="PriceSale" type="number" min="1" max="100" step="0.1" class="form-control" placeholder="Enter Price Sale...">
                        <span asp-validation-for="PriceSale" class="text-danger"> </span>
                    </div>
                </div>

                <div class="col-4">
                    <!-- text input -->
                    <div class="form-group">
                        <label>Quantity</label>
                        <input asp-for="Quantity" min="1" max="1000" step="1" class="form-control" placeholder="Enter Price Sale...">
                        <span asp-validation-for="Quantity" class="text-danger"> </span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-4">
                    <!-- text input -->
                    <div class="form-group">
                        <label>Category</label>
                        <select asp-for="CategoryId" class="form-control" asp-items="ViewBag.Categories">
                            <option>--Choose a category</option>
                        </select>
                        <span asp-validation-for="CategoryId" class="text-danger"> </span>
                    </div>
                </div>

                <div class="col-4">
                    <!-- text input -->
                    <div class="form-group">
                        <label>Author</label>
                        <select asp-for="AuthorId" class="form-control" asp-items="ViewBag.Authors">
                            <option>--Choose a author</option>
                        </select>
                        <span asp-validation-for="AuthorId" class="text-danger"> </span>
                    </div>
                </div>

            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-primary">Update</button>
            </div>

        </form>
    </div>

    <a asp-action="Index"> Back to List Product</a>

    <!-- /.container-fluid -->
</section>


@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
